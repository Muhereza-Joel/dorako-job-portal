import{r as x,j as e,G as v,S as b}from"./app-1Pf3M8ca.js";import{A as w,a as N}from"./AlertError-txJf9rtW.js";import{T as g,I as d}from"./TextInput-DxX4QPra.js";import{I as i}from"./InputLabel-DhnzIh1g.js";import{P as k}from"./PrimaryButton-Caa-A3ON.js";import{A as y,u as C}from"./AuthenticatedLayout-ezjnijft.js";import"./ApplicationLogo-mKhaMtHc.js";import"./transition-cNS1OkuM.js";const E=x.forwardRef(function({className:o="",options:m=[],isFocused:l=!1,...c},t){const r=t||x.useRef();return x.useEffect(()=>{l&&r.current.focus()},[l]),e.jsx("select",{...c,className:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm "+o,ref:r,children:m.map((a,u)=>e.jsx("option",{value:a.value,children:a.label},u))})});function D({auth:p,success:o,error:m,permissions:l,roles:c}){const{can:t}=C(l),{data:r,setData:a,post:u,processing:h,errors:n,reset:f}=v({name:"",email:"",password:""}),j=s=>{s.preventDefault(),u(route("users.store"),{onSuccess:()=>f()})};return e.jsxs(y,{user:p.user,permissions:l,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Create New User"}),children:[e.jsx(b,{title:"Create New EduTrack User"}),e.jsxs("div",{className:"py-2 max-w-7xl mx-auto sm:px-6 lg:px-8",children:[o&&e.jsx(w,{success:o}),m&&e.jsx(N,{error:m}),e.jsxs("div",{className:"max-w-full rounded shadow-sm m-2 overflow-hidden bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-300 px-4 py-3 m-2 rounded relative",role:"alert",children:e.jsxs("span",{className:"block sm:inline",children:[e.jsx("strong",{children:"Note:"})," The system uses role based access model to manage access to the system. Ensure to assign the right role to the user you create from this section"]})}),e.jsx("div",{className:"px-4 pt-4 pb-2",children:t("Create User")&&e.jsx("form",{onSubmit:j,className:"space-y-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Username"}),e.jsx(g,{id:"name",name:"name",value:r.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!1,onChange:s=>a("name",s.target.value),placeholder:"Username goes here."}),e.jsx(d,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",value:"Email"}),e.jsx(g,{id:"email",name:"email",value:r.email,className:"mt-1 block w-full",autoComplete:"email",isFocused:!1,onChange:s=>a("email",s.target.value),placeholder:"Email of user goes here."}),e.jsx(d,{message:n.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"role",value:"User Role"}),e.jsx(E,{id:"role",name:"role",isFocused:!1,className:"mt-1 block w-full",options:[{value:"",label:"Select Role"},...c.filter(s=>!(!t("Create Role")&&["root","admin"].includes(s.name))).map(s=>({value:s.uuid,label:s.name}))],onChange:s=>a("role",s.target.value)}),e.jsx(d,{message:n.role,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"password",value:"Password"}),e.jsx(g,{id:"password",name:"password",value:r.password,className:"mt-1 block w-full",autoComplete:"password",isFocused:!1,onChange:s=>a("password",s.target.value),placeholder:"Login password of user goes here."}),e.jsx(d,{message:n.password,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-start",children:e.jsx(k,{className:"ms-0 mb-3",disabled:h,children:"Save"})})]})})})]})]})]})}export{D as default};
